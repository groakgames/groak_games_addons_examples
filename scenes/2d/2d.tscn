[gd_scene load_steps=5 format=2]

[ext_resource path="res://scenes/2d/example_player_instance.tscn" type="PackedScene" id=1]
[ext_resource path="res://menus/input_manager_menu/input_manager_menu.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/2d/2d_demo_scene.gd" type="Script" id=4]

[sub_resource type="GDScript" id=1]
script/source = "extends Node

func _ready():

	var profile = load(\"res://test_profile.ginprofile\")
	var cf := ConfigFile.new()

	var ie := InputEventKey.new()
	ie.shift = true
	ie.alt = true
	ie.scancode = KEY_W
	var st := OS.get_scancode_string(ie.get_scancode_with_modifiers())
	var st2 := \"\"
	for i in st.split(\"+\"):
		print(OS.find_scancode_from_string(i))

	cf.set_value(\"actions\", \"name\", \"cool profile\")

	cf.set_value(\"actions.gameplay_move\",       \"type\",         \"vector\")
	cf.set_value(\"actions.gameplay_move.up\",    \"key\",          [KEY_UP])
	cf.set_value(\"actions.gameplay_move.up\",    \"key_physical\", [KEY_W])
	cf.set_value(\"actions.gameplay_move.down\",  \"key\",          [KEY_DOWN])
	cf.set_value(\"actions.gameplay_move.down\",  \"key_physical\", [KEY_S])
	cf.set_value(\"actions.gameplay_move.left\",  \"key\",          [KEY_LEFT])
	cf.set_value(\"actions.gameplay_move.left\",  \"key_physical\", [KEY_A])
	cf.set_value(\"actions.gameplay_move.right\", \"key\",          [KEY_RIGHT])
	cf.set_value(\"actions.gameplay_move.right\", \"key_physical\", [KEY_D])

	cf.set_value(\"actions.jump\", \"type\", \"scalar\")

	cf.set_value(\"actions.jump\", \"type\", \"scalar\")
	cf.set_value(\"actions.jump\", \"key_physical\", KEY_SPACE)

#	cf.set_value(\"actions.gameplay_move\", \"down\",   [])
#	cf.set_value(\"actions.gameplay_move\", \"left\",   [])
#	cf.set_value(\"actions.gameplay_move\", \"right\",  [])
#	cf.set_value(\"actions.gameplay_move\", \"native\", [])

#	cf.set_value(profile.resource_name, \"test\", inst2dict(profile))
	cf.save(\"res://test.cfg\")
"

[node name="Node2D" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 4 )
__meta__ = {
"_edit_lock_": true
}
player_instance_scene = ExtResource( 1 )

[node name="InputManagerMenu" parent="." instance=ExtResource( 3 )]
anchor_left = 0.75

[node name="TextureRect" type="TextureRect" parent="."]
visible = false
margin_right = 40.0
margin_bottom = 40.0

[node name="Node" type="Node" parent="."]
script = SubResource( 1 )
